/* References:
 * - https://jakelazaroff.com/words/my-modern-css-reset/
 * - https://github.com/fokus-dev/uaplus/blob/main/uaplus.css
 * - https://piccalil.li/blog/a-more-modern-css-reset/
 * - https://www.npmjs.com/package/the-new-css-reset
 * - https://www.npmjs.com/package/gardevoir
 * - https://www.npmjs.com/package/modern-normalize
 * - https://www.joshwcomeau.com/css/custom-css-reset/
 * - https://x.com/csswizardry/status/1717841334462005661
 *   https://youtu.be/345V2MU3E_w
 * - https://youtu.be/eWmDW4zEXt4
 */

/* TODO: check for <use> element. */
:not(math, math *, svg, svg *),
::before,
::after {
  all: unset;
  display: revert-layer;
  -webkit-locale: revert-layer; /* https://github.com/elad2412/the-new-css-reset/issues/36 */

  box-sizing: border-box;

  flex-grow: 0;
  flex-shrink: 0;

  font-synthesis: none;
  text-box: trim-both cap text;
  -moz-text-size-adjust: none;
  -webkit-text-size-adjust: none;
  text-size-adjust: none;

  /**** Experimental ****/
  min-width: 0;

  /**** Consider ****/
  /* unicode-bidi: isolate; */
  /* font: inherit; */

  /**** Do not include this! ****/
  /* overflow-wrap:break-word/anywhere — Will create problems with arabic! */
  /* appearance:none — Included in all:unset */
  /* list-style:none — Included in all:unset */
  /* white-space:pre-line — Too many inconvenience with random newlines */
  /* white-space-collapse:preserve-breaks — Same as with `white-space` */
}

/* All visible embedded elements
 *  https://developer.mozilla.org/en-US/docs/Glossary/Replaced_elements
 */
canvas,
embed,
fencedframe,
frame,
iframe,
img,
object,
video,
input[type='image'] {
  display: block;
  max-inline-size: 100%;
  max-block-size: 100%;

  /* For width/height attributes support. */
  width: revert-layer;
  height: revert-layer;

  /* Has no effect on <iframe>, <embed>, and <fencedframe> elements. */
  object-fit: contain;
}

input {
  display: block;
}

picture {
  /* https://github.com/whatwg/html/issues/4995 */
  display: contents;
}

source {
  /* Otherwise each particular <source> will contribute to child count,
   *  because of `display:contents` on <picture>.
   */
  display: none;
}

/* Not for <textarea>! */
input:placeholder-shown {
  text-overflow: ellipsis;
}

/* Not for <textarea>! */
input::placeholder {
  -webkit-text-security: none;
  overflow: hidden;

  /* In Chromium for some reason this should be specified in both
   *  <input> and ::placeholder elements.
   */
  text-overflow: inherit;
}

/**** Consider ****/
/*
:where(button, input, select, textarea) {
  font: inherit;
  letter-spacing: inherit;
  word-spacing: inherit;
  color: currentColor;
}
*/
